---
title: "Helper functions"
author: "Ian Lyttle"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Helper functions}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r}
library("htmltools")
library("vembedr")
```

### Helper functions

It's a bit inconvenient to visit a service's API page to figure out how do something relatively common, like specify a start time. For this reason a consistent set of helper functions is offered. It is proposed that helper functions used to modify the URL will be called `use_something()` and can be composed using the pipe, `%>%`.

#### Start time

To specify the start time, simply pipe your embed function to the `use_start_time()` function, which figures out which service you are using, then does the "right thing" to modify the query or fragment. 

The `use_start_time()` function will treat these all of these inputs equivalently:

* `"0h1m0s"`, `"0h01m00s"`, `"0h1m"`
* `"1m0s"`, `"1m"`
* `"60s"`, `60`

```{r eval=FALSE}
embed_youtube(id = "8SGif63VW6E") %>% use_start_time("4m12s")
```

```{r eval=FALSE}
embed_vimeo(id = "98892825") %>% use_start_time("60")
```

Let's say you wanted to point to a specific lightning talk at useR! 2016. 

Please note that it seems to take a few seconds from when the browser loads until the video will be ready to start at the specified time.

```{r}
embed_user2016(id = "Day-3-Siepr-130-Ligtning-Talks-100-PM-140-PM") %>% 
  use_start_time("21m45s")
```

#### Video specification

Some convenience functions are provided so that you can focus on experimenting with the arguments and the query parameters. In these functions, the video `id` is specified, any argument you provide is passed along to either `embed_youtube()` or `embed_vimeo()`.

```{r}
rickroll_youtube()
```

```{r}
rickroll_vimeo()
```
