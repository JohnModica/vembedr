<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Embedding Video &bull; vembedr</title><!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">vembedr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ijlyttle/vembedr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Embedding Video</h1>
                        <h4 class="author">Ian Lyttle</h4>
            
            <h4 class="date">2016-12-31</h4>
          </div>

    
    
<div class="contents">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">"vembedr"</span>)
<span class="kw">library</span>(<span class="st">"htmltools"</span>)</code></pre></div>
<p>The goal of the vembedr package is to make it a little bit easier for you to embed videos into your R Markdown documents and your Shiny Apps.</p>
<div id="new-to-version-0-1-1" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#new-to-version-0-1-1" class="anchor"> </a></body></html>New to version 0.1.1</h3>
<ul><li>Embed useR! 2016 videos, and by extension, Microsoft Channel 9 videos.</li>
<li>A helper function, <code><a href="../reference/use_start_time.html">use_start_time()</a></code> can be used consistently with YouTube, Vimeo, and Channel 9 embeds.</li>
</ul></div>
<div id="note-for-rstudio-users" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#note-for-rstudio-users" class="anchor"> </a></body></html>Note for RStudio users</h3>
<p>The browser within the RStudio IDE does not support the use of iframes that point to external URLs. You are encouraged to open this vignette in a different browser, such as Chrome or Firefox. This page is also available using the <a href="http://ijlyttle.github.io/vembedr/">GitHub pages</a> service.</p>
</div>
<div id="services" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#services" class="anchor"> </a></body></html>Services</h2>
<p>The package supports embedding from three services: YouTube, Vimeo, and now Microsoft&rsquo;s Channel 9 (including the useR! 2016 presentations).</p>
<div id="channel-9" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#channel-9" class="anchor"> </a></body></html>Channel 9</h3>
<p>One of the great things about the useR! 2016 conference was that all of the keynotes and contributed talks were recorded, thanks to Microsoft. The videos are available on Microsoft&rsquo;s Channel 9 service - so it behooves us to make an function to embed Channel 9 videos.</p>
<p>Consider Rick Becker&rsquo;s talk on the history of the S language. Seriously, consider it - now, if you have not already seen it.</p>
<p>Here is the URL for the page that hosts the video:</p>
<p><code>https://channel9.msdn.com/</code><strong><code>Events/useR-international-R-User-conference/useR2016/Forty-years-of-S</code></strong></p>
<p>To embed a Channel 9 video, the <code>id</code> is the path of the URL, which you can express as a vector of character strings:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/embed.html">embed_channel9</a></span>(
  <span class="dt">id =</span> <span class="kw">c</span>(<span class="st">"Events"</span>, <span class="st">"useR-international-R-User-conference"</span>, <span class="st">"useR2016"</span>, <span class="st">"Forty-years-of-S"</span>)
)</code></pre></div>
<iframe src="https://channel9.msdn.com/Events/useR-international-R-User-conference/useR2016/Forty-years-of-S/player" width="560" height="315" frameborder="0" allowfullscreen=""></iframe>
<div id="user-2016" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#user-2016" class="anchor"> </a></body></html>useR! 2016</h4>
<p>Of course, it could be easier to embed these conference videos - hence the <code><a href="../reference/embed.html">embed_user2016()</a></code> function. For example, this talk needs no introduction:</p>
<p><code>https://channel9.msdn.com/Events/useR-international-R-User-conference/useR2016/</code><strong><code>Literate-Programming</code></strong></p>
<p>The trick for these useR! videos is that the <code>id</code> is just the last component of the URL&rsquo;s path.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/embed.html">embed_user2016</a></span>(<span class="dt">id =</span> <span class="st">"Literate-Programming"</span>)</code></pre></div>
<iframe src="https://channel9.msdn.com/Events/useR-international-R-User-conference/useR2016/Literate-Programming/player" width="560" height="315" frameborder="0" allowfullscreen=""></iframe>
</div>
</div>
<div id="youtube" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#youtube" class="anchor"> </a></body></html>YouTube</h3>
<p>Your first step will be to get the YouTube identifier for the particular video. One way to do this is to inspect the URL of the YouTube page featuring the video that you want to embed. For example:</p>
<pre><code>"https://www.youtube.com/watch?v=q2nNzNo_Xps"</code></pre>
<p>The identifier is simply the last part of the URL: <code>"q2nNzNo_Xps"</code>.</p>
<p>To embed this video, use the function <code><a href="../reference/embed.html">embed_youtube()</a></code>, using the <code>id</code> argument:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/embed.html">embed_youtube</a></span>(<span class="dt">id =</span> <span class="st">"q2nNzNo_Xps"</span>)</code></pre></div>
<iframe src="https://www.youtube.com/embed/q2nNzNo_Xps" width="420" height="315" frameborder="0" allowfullscreen=""></iframe>
<p>If you wish to add some formatting within your document, the htmltools package makes that easier:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">div</span>(<span class="dt">align =</span> <span class="st">"center"</span>, <span class="kw"><a href="../reference/embed.html">embed_youtube</a></span>(<span class="dt">id =</span> <span class="st">"Qpoqzt2EHaA"</span>))</code></pre></div>
<div align="center">
<iframe src="https://www.youtube.com/embed/Qpoqzt2EHaA" width="420" height="315" frameborder="0" allowfullscreen=""></iframe>
</div>
<p>You will be the best judge of the best formatting for your situation. By providing only the iframe, you can wrap the iframe in whatever tags will work best for you.</p>
</div>
<div id="vimeo" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#vimeo" class="anchor"> </a></body></html>Vimeo</h3>
<p>Embedding a video from Vimeo is just as easy.</p>
<pre><code>"https://vimeo.com/48699174"</code></pre>
<p>The Vimeo <code>id</code> is just the path part of the URL: <code>"48699174"</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/embed.html">embed_vimeo</a></span>(<span class="dt">id =</span> <span class="st">"48699174"</span>)</code></pre></div>
<iframe src="https://player.vimeo.com/video/48699174" width="500" height="281" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
</div>
</div>
<div id="api-philosophy" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#api-philosophy" class="anchor"> </a></body></html>API philosophy</h2>
<p>The <code>embed_*()</code> family of functions is designed to help you compose the URL according to the API of each service, using the <code>query</code> and <code>fragment</code> arguments - these are passed to <code>httr::build_url()</code> to compose the URL.</p>
<p>The query/fragment parameters for each service can be found at:</p>
<ul><li><a href="https://developers.google.com/youtube/player_parameters">YouTube IFrame API</a></li>
<li><a href="https://developer.vimeo.com/player/embedding">Vimeo emebedding</a></li>
<li><a href="https://channel9.msdn.com/Events/useR-international-R-User-conference/useR2016/Forty-years-of-S">Channel 9</a> - click the embed button to see options</li>
</ul><p>For example, YouTube lets you use the URL to specify that the video start at a given time (thanks to Aur&eacute;lien Ginolhac for suggesting this link): <code>https://youtu.be/8SGif63VW6E?t=4m12s</code></p>
<p>Unfortunately, the query parameters for YouTube links are different from those for YouTube embeds. To do the same thing for embedding, you specify a <code>start</code> with the number of seconds.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/embed.html">embed_youtube</a></span>(<span class="dt">id =</span> <span class="st">"8SGif63VW6E"</span>, <span class="dt">query =</span> <span class="kw">list</span>(<span class="dt">start =</span> <span class="dv">252</span>))</code></pre></div>
<iframe src="https://www.youtube.com/embed/8SGif63VW6E?start=252" width="420" height="315" frameborder="0" allowfullscreen=""></iframe>
<p>For Vimeo, there is a somewhat undocumented way to do this (thanks Karthik Ram for the heads-up). Word of warning, there seems to be no way to avoid the autoplay, so beware - also see some notes at Vimeo: (<a href="https://vimeo.com/forums/topic:49396" class="uri">https://vimeo.com/forums/topic:49396</a>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/embed.html">embed_vimeo</a></span>(<span class="dt">id =</span> <span class="st">"98892825"</span>, <span class="dt">fragment =</span> <span class="st">"t=60"</span>)</code></pre></div>
<div id="helper-functions" class="section level3">
<h3 class="hasAnchor"><html><body><a href="#helper-functions" class="anchor"> </a></body></html>Helper functions</h3>
<p>It&rsquo;s a bit inconvenient to visit a service&rsquo;s API page to figure out how do something relatively common, like specify a start time. For this reason a consistent set of helper functions is offered. It is proposed that helper functions used to modify the URL will be called <code>use_something()</code> and can be composed using the pipe, <code>%&gt;%</code>.</p>
<div id="start-time" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#start-time" class="anchor"> </a></body></html>Start time</h4>
<p>To specify the start time, simply pipe your embed function to the <code><a href="../reference/use_start_time.html">use_start_time()</a></code> function, which figures out which service you are using, then does the &ldquo;right thing&rdquo; to modify the query or fragment.</p>
<p>The <code><a href="../reference/use_start_time.html">use_start_time()</a></code> function will treat these all of these inputs equivalently:</p>
<ul><li><code>"0h1m0s"</code>, <code>"0h01m00s"</code>, <code>"0h1m"</code></li>
<li><code>"1m0s"</code>, <code>"1m"</code></li>
<li><code>"60s"</code>, <code>60</code></li>
</ul><div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/embed.html">embed_youtube</a></span>(<span class="dt">id =</span> <span class="st">"8SGif63VW6E"</span>) %&gt;%<span class="st"> </span><span class="kw"><a href="../reference/use_start_time.html">use_start_time</a></span>(<span class="st">"4m12s"</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/embed.html">embed_vimeo</a></span>(<span class="dt">id =</span> <span class="st">"98892825"</span>) %&gt;%<span class="st"> </span><span class="kw"><a href="../reference/use_start_time.html">use_start_time</a></span>(<span class="st">"60"</span>)</code></pre></div>
<p>Let&rsquo;s say you wanted to point to a specific lightning talk at useR! 2016.</p>
<p>Please note that it seems to take a few seconds from when the browser loads until the video will be ready to start at the specified time.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/embed.html">embed_user2016</a></span>(<span class="dt">id =</span> <span class="st">"Day-3-Siepr-130-Ligtning-Talks-100-PM-140-PM"</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/use_start_time.html">use_start_time</a></span>(<span class="st">"21m45s"</span>)</code></pre></div>
<iframe src="https://channel9.msdn.com/Events/useR-international-R-User-conference/useR2016/Day-3-Siepr-130-Ligtning-Talks-100-PM-140-PM/player#time=0h21m45s:paused" width="560" height="315" frameborder="0" allowfullscreen=""></iframe>
</div>
<div id="video-specification" class="section level4">
<h4 class="hasAnchor"><html><body><a href="#video-specification" class="anchor"> </a></body></html>Video specification</h4>
<p>Some convenience functions are provided so that you can focus on experimenting with the arguments and the query parameters. In these functions, the video <code>id</code> is specified, any argument you provide is passed along to either <code><a href="../reference/embed.html">embed_youtube()</a></code> or <code><a href="../reference/embed.html">embed_vimeo()</a></code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/rickroll.html">rickroll_youtube</a></span>()</code></pre></div>
<iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ" width="420" height="315" frameborder="0" allowfullscreen=""></iframe>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/rickroll.html">rickroll_vimeo</a></span>()</code></pre></div>
<iframe src="https://player.vimeo.com/video/45196609" width="500" height="281" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
<p>It is imagined that in a future release of this package, this approach will be deprecated in favor of something like:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/embed.html">embed_youtube</a></span>() %&gt;%<span class="st"> </span><span class="kw">use_rickroll</span>()</code></pre></div>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked"><li><a href="#services">Services</a></li>
      <li><a href="#api-philosophy">API philosophy</a></li>
      </ul></div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Ian Lyttle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer></div>

  </body></html>
